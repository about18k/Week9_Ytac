:root{
  --bg:#0a0f1d; --ink:#eaf1ff; --muted:#9fb1ce; --card:#11182b; --line:#233253;
  --amb:#ffcc3f; --red:#ff5d5d; --green:#27e0a1; --blue:#6fc1ff;
  --ring:#0c1326; --ring2:#0f1830; --tick:#2b3e69; --tick2:#3f5a92;
}
*{box-sizing:border-box}
body{margin:0;font:16px/1.4 Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--ink)}
.app-header,.app-footer{display:flex;justify-content:space-between;align-items:center;padding:16px 22px}
.app-header h1{margin:0;font-weight:800;letter-spacing:.3px}
.pill{border:1px solid var(--line);color:var(--muted);padding:6px 10px;border-radius:999px;font-size:12px}

.cluster{
  display:grid; grid-template-columns: 1fr 420px 1fr; gap:18px; padding:8px 16px 16px;
  align-items:center;
}
@media (max-width:1100px){ .cluster{ grid-template-columns:1fr; gap:14px } }

.dial{
  position:relative; aspect-ratio:1/1; width:min(520px, 90vw);
  margin:auto; background: radial-gradient(120% 120% at 50% 45%, var(--ring) 0%, var(--ring2) 60%, #04070e 100%);
  border-radius:50%; border:1px solid var(--line); box-shadow:0 18px 40px rgba(0,0,0,.5) inset, 0 10px 30px rgba(0,0,0,.35);
  overflow:hidden;
}
.dial-face{
  position:absolute; inset:10px; border-radius:50%;
  background:
    repeating-conic-gradient(from -120deg, var(--tick) 0 2deg, transparent 2deg 10deg),
    repeating-conic-gradient(from -120deg, transparent 0 1deg, #172447 1deg 2deg);
  mask: radial-gradient(circle, transparent 76%, black 76%);
  opacity:.9;
}
.dial-grid{
  box-shadow: 0 0 0 2px rgba(255,255,255,.02) inset, 0 0 80px rgba(111,193,255,.12) inset;
}
.dial-center{
  position:absolute; left:50%; top:50%; width:20%; aspect-ratio:1;
  transform:translate(-50%,-50%); border-radius:50%;
  background: radial-gradient(60% 60% at 40% 35%, #1b2a52 0%, #0f1a33 60%, #0a1226 100%);
  border:1px solid #2a3b65; box-shadow:0 0 30px rgba(111,193,255,.25) inset;
}
.needle{
  --deg: -120deg; 
  position:absolute; left:50%; top:50%; width:46%; height:3px; transform-origin: 0% 50%;
  transform: rotate(var(--deg));
  background: linear-gradient(90deg, #ffeded 0%, #ff8585 25%, #ff5252 100%);
  border-radius:6px; filter: drop-shadow(0 0 6px rgba(255,120,120,.5));
}
.dial-label{ position:absolute; bottom:14%; width:100%; text-align:center; color:var(--muted); font-size:13px; letter-spacing:.4px }

.warns{ position:absolute; inset:0; margin:0; padding:0; list-style:none; pointer-events:none }
.warn{
  position:absolute; left:50%; top:50%; transform: translate(-50%,-50%);
  width:54px; height:24px; border-radius:999px; font-weight:700; font-size:11px;
  display:grid; place-items:center; letter-spacing:.4px; opacity:.15; transition:opacity .2s ease;
  background:#1a233d; border:1px solid #2a3b65; color:#ffdede;
}
.warn.amb{ color:#fff4cf; border-color:#5a4b1a; background:#2a2314 }
.warn.red{ color:#ffd7d7; border-color:#59333a; background:#31161c }
.warn.on{ opacity:1 }

#rpmDial #w-oil   { transform: translate(-50%,-50%) rotate(-65deg) translate(165px) rotate(65deg) }
#rpmDial #w-batt  { transform: translate(-50%,-50%) rotate(-20deg) translate(170px) rotate(20deg) }
#rpmDial #w-brake { transform: translate(-50%,-50%) rotate(25deg)  translate(170px) rotate(-25deg) }
#rpmDial #w-abs   { transform: translate(-50%,-50%) rotate(70deg)  translate(160px) rotate(-70deg) }

#speedDial #w-fuel { transform: translate(-50%,-50%) rotate(-70deg) translate(160px) rotate(70deg) }
#speedDial #w-air  { transform: translate(-50%,-50%) rotate(-25deg) translate(168px) rotate(25deg) }
#speedDial #w-tc   { transform: translate(-50%,-50%) rotate(20deg)  translate(170px) rotate(-20deg) }
#speedDial #w-seat { transform: translate(-50%,-50%) rotate(65deg)  translate(160px) rotate(-65deg) }


.center{ display:grid; place-items:center }
.lcd{
  width:min(420px, 88vw); height:360px; padding:14px; border-radius:18px;
  background: linear-gradient(180deg, #0b162c, #091125);
  border:1px solid var(--line);
  box-shadow: 0 12px 28px rgba(0,0,0,.45), 0 0 0 6px rgba(111,193,255,.06) inset;
  display:grid; grid-template-rows: 1fr auto; gap:10px;
}
.car-silhouette{
  position:relative; margin:auto; width:180px; height:240px; border-radius:24px;
  border:2px solid #1f2e52; box-shadow:0 0 0 1px #0f1b36 inset;
}
.tire{ position:absolute; width:26px; height:26px; border-radius:50%; background:#0f1a33; border:2px solid #2f4a83; }
.tire.tl{ left:-14px; top:22px } .tire.tr{ right:-14px; top:22px }
.tire.bl{ left:-14px; bottom:22px } .tire.br{ right:-14px; bottom:22px }

.lcd-rows{ display:grid; gap:6px; margin-top: -90px;}
.lcd .row{ display:grid; grid-template-columns: 1fr auto auto; align-items:center; gap:10px;
  font-feature-settings:"tnum" 1; color:var(--muted);
}
.lcd .row strong{ color:var(--ink); font-size:22px; letter-spacing:.3px }


.card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:16px;margin:16px}
.controls .row{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px}
.btn{background:#17233b;color:var(--ink);border:1px solid #22314d;padding:10px 14px;border-radius:12px;cursor:pointer}
.btn.accent{background:#102744;border-color:#1a3f6e;color:#cfe6ff}
.select{background:#0e1628;color:var(--ink);border:1px solid #22314d;border-radius:12px;padding:10px 12px}
.toast{margin:8px 0 0;background:#0d243f;border:1px solid #204d86;border-radius:10px;padding:8px 12px;color:#cfe0ff}
.app-footer{opacity:.6;justify-content:center;display:flex}


.dial{
  position:relative;
}
.dial::after{
  /* glass ring + vignette */
  content:"";
  position:absolute; inset:0; border-radius:50%;
  background:
    radial-gradient(120% 120% at 50% 45%, rgba(255,255,255,.04), transparent 60%),
    radial-gradient(70% 70% at 50% 60%, rgba(0,0,0,.35), transparent 60%);
  pointer-events:none;
}

.nums{ position:absolute; inset:0; margin:0; padding:0; list-style:none; }
.nums li{
  position:absolute; left:50%; top:50%;
  transform: rotate(var(--a)) translate(43%) rotate(calc(-1 * var(--a)));
  color:#a9bde1; font-weight:700; font-size:13px; letter-spacing:.2px;
  text-shadow: 0 2px 4px rgba(0,0,0,.5);
  opacity:.9; user-select:none;
}


.needle{
  transition: transform 260ms cubic-bezier(.22,1,.36,1);
}
.needle::before, .needle::after{
  content:""; position:absolute; left:-10px; top:50%; transform:translateY(-50%);
  border-radius:50%;
}
.needle::before{ 
  width:70px; height:70px;
  background: radial-gradient(40% 40% at 45% 45%, rgba(111,193,255,.25), rgba(10,20,40,.9));
  filter: blur(1px);
}
.needle::after{  
  width:36px; height:36px;
  background: radial-gradient(circle at 40% 40%, #2a3f72, #0e1a35 60%, #091126 100%);
  box-shadow: 0 0 0 1px #29406f inset, 0 0 10px rgba(111,193,255,.25) inset;
}

.warn.on{
  box-shadow: 0 0 18px rgba(255, 204, 63, .35);
}
.warn.red.on{
  box-shadow: 0 0 18px rgba(255, 93, 93, .35);
}

.controls{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  align-items:center;
  justify-content:center;
}
.controls .row{ display:contents; margin:0; }
.controls .btn, .controls .select{ margin:0; }
#toast{ flex-basis:100%; margin-top:6px; text-align:center; }
